<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>C:/arbitros/trunk/drivers/matlab/ins/errorStateKalman.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arbitros.bmp"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_14bc92f4b96c8519b376567118ac28b3.html">drivers</a></li><li class="navelem"><a class="el" href="dir_657292dc0854b2704f510dde90e5f1b6.html">matlab</a></li><li class="navelem"><a class="el" href="dir_3095d7a32c5fd7cbdc92191248f8aca5.html">ins</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">errorStateKalman.m File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69139acee4d44a784a98346d44cb78c6"><td class="memItemLeft" align="right" valign="top">attitude system noise is <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a69139acee4d44a784a98346d44cb78c6">Qatt</a> (1, 1) = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td></tr>
<tr class="separator:a69139acee4d44a784a98346d44cb78c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77865d2a79630f6bb4acfbe319d430f0"><td class="memItemLeft" align="right" valign="top">gyro random noise <a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> axis in rad <a class="el" href="error_state_kalman_8m.html#a3cbf8063018be67a2f9313a4b99270d8">sec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a77865d2a79630f6bb4acfbe319d430f0">Qatt</a> (2, 2) = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td></tr>
<tr class="separator:a77865d2a79630f6bb4acfbe319d430f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e088d997e83bd453fb3f7c3baaba22e"><td class="memItemLeft" align="right" valign="top">gyro random noise <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis in rad <a class="el" href="error_state_kalman_8m.html#a3cbf8063018be67a2f9313a4b99270d8">sec</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a3e088d997e83bd453fb3f7c3baaba22e">Qatt</a> (3, 3) = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td></tr>
<tr class="separator:a3e088d997e83bd453fb3f7c3baaba22e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a09e5b046bcf56ad20ff9257147ecf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a> (3)</td></tr>
<tr class="separator:aa4a09e5b046bcf56ad20ff9257147ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e043f1de5477b7deb4976cd2bd554e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a9e043f1de5477b7deb4976cd2bd554e2">R</a> (1, 1)</td></tr>
<tr class="separator:a9e043f1de5477b7deb4976cd2bd554e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea61c32f128d177a875fe8d6cd1f99e4"><td class="memItemLeft" align="right" valign="top">Accelerometer <a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#aea61c32f128d177a875fe8d6cd1f99e4">R</a> (2, 2)</td></tr>
<tr class="separator:aea61c32f128d177a875fe8d6cd1f99e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7972c14f231c13f8633c0a12e59e317c"><td class="memItemLeft" align="right" valign="top">Accelerometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a7972c14f231c13f8633c0a12e59e317c">R</a> (3, 3)</td></tr>
<tr class="separator:a7972c14f231c13f8633c0a12e59e317c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc48706ebe7c3762ebebc1b79cf569dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#abc48706ebe7c3762ebebc1b79cf569dc">if</a> (<a class="el" href="ahrs_8m.html#abd5a608aae9055fc55bf7bf0277abdf7">res</a>(2) &gt; 5 *<a class="el" href="ahrs_8m.html#a32aadae37f025a94364f993e73bb5a78">rVar</a>(2)) <a class="el" href="error_state_kalman_8m.html#a3e088d997e83bd453fb3f7c3baaba22e">Qatt</a>(2</td></tr>
<tr class="separator:abc48706ebe7c3762ebebc1b79cf569dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01152faaa45b1077daa95054b190368a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a01152faaa45b1077daa95054b190368a">if</a> (<a class="el" href="ahrs_8m.html#abd5a608aae9055fc55bf7bf0277abdf7">res</a>(3) &gt; <a class="el" href="ahrs_8m.html#a32aadae37f025a94364f993e73bb5a78">rVar</a>(3)) <a class="el" href="error_state_kalman_8m.html#a3e088d997e83bd453fb3f7c3baaba22e">Qatt</a>(3</td></tr>
<tr class="separator:a01152faaa45b1077daa95054b190368a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1765b8411a385cb7cbfc189a91e6ec36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a1765b8411a385cb7cbfc189a91e6ec36">QgBias</a> (1, 1)</td></tr>
<tr class="separator:a1765b8411a385cb7cbfc189a91e6ec36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e5570b54d956ce11e4df196479225c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a4e5570b54d956ce11e4df196479225c2">QgBias</a> (2, 2)</td></tr>
<tr class="separator:a4e5570b54d956ce11e4df196479225c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b5299925221272d7463a9c44a23c02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a39b5299925221272d7463a9c44a23c02">QgBias</a> (3, 3)</td></tr>
<tr class="separator:a39b5299925221272d7463a9c44a23c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0be11e8b84898e72a8832c7bc0863d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a2d0be11e8b84898e72a8832c7bc0863d">if</a> (<a class="el" href="error_state_kalman_8m.html#a39b5299925221272d7463a9c44a23c02">QgBias</a>(1, 1)&lt; 1/32768) <a class="el" href="error_state_kalman_8m.html#a39b5299925221272d7463a9c44a23c02">QgBias</a>(1 = 1/32768</td></tr>
<tr class="separator:a2d0be11e8b84898e72a8832c7bc0863d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9c96e717de283a1769723c064b3ee7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a4b9c96e717de283a1769723c064b3ee7">QgScale</a> (1, 1)</td></tr>
<tr class="separator:a4b9c96e717de283a1769723c064b3ee7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6349c2047507a765eb21ef6b6a39b3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ae6349c2047507a765eb21ef6b6a39b3b">QgScale</a> (2, 2)</td></tr>
<tr class="separator:ae6349c2047507a765eb21ef6b6a39b3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2336c76175aa09baa1b87bcd9f86fb6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a2336c76175aa09baa1b87bcd9f86fb6d">QgScale</a> (3, 3)</td></tr>
<tr class="separator:a2336c76175aa09baa1b87bcd9f86fb6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad005c5070c954f594bea7e974342c019"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ad005c5070c954f594bea7e974342c019">G</a> (2)</td></tr>
<tr class="separator:ad005c5070c954f594bea7e974342c019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3e2536de3b319235d91da4abe2ac8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a8b3e2536de3b319235d91da4abe2ac8e">G</a> (3)]*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td></tr>
<tr class="separator:a8b3e2536de3b319235d91da4abe2ac8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f0512dd7bb7dba2d43c1a914a36b58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a24f0512dd7bb7dba2d43c1a914a36b58">eye</a> (3)</td></tr>
<tr class="separator:a24f0512dd7bb7dba2d43c1a914a36b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a658d658559dd331229f51b8bba139778"><td class="memItemLeft" align="right" valign="top">Hard limit the amount of <br class="typebreak"/>
rotation <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> acceleration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a658d658559dd331229f51b8bba139778">if</a> (<a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a> &gt; 1) <a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a></td></tr>
<tr class="separator:a658d658559dd331229f51b8bba139778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d5ae7d5831a7d3a204d0a0060dce28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a54d5ae7d5831a7d3a204d0a0060dce28">if</a> (bAccel &gt; 1) bAccel</td></tr>
<tr class="separator:a54d5ae7d5831a7d3a204d0a0060dce28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52152646cd1253bb5c435fea475bdfa"><td class="memItemLeft" align="right" valign="top">bAccel/1&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ae52152646cd1253bb5c435fea475bdfa">R</a> ()</td></tr>
<tr class="separator:ae52152646cd1253bb5c435fea475bdfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293da3a642d5af83135ac8c56449d72b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a293da3a642d5af83135ac8c56449d72b">if</a> (<a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a> &gt;.17)%10 degress/<a class="el" href="error_state_kalman_8m.html#a3cbf8063018be67a2f9313a4b99270d8">sec</a> <a class="el" href="error_state_kalman_8m.html#ae52152646cd1253bb5c435fea475bdfa">R</a>(3</td></tr>
<tr class="separator:a293da3a642d5af83135ac8c56449d72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a802439f8d79db007a9bef99f24868083"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a802439f8d79db007a9bef99f24868083">T1</a> (1, 1)</td></tr>
<tr class="separator:a802439f8d79db007a9bef99f24868083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e3dca9a095644f4f75823bd976e377"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ac1e3dca9a095644f4f75823bd976e377">T1</a> (2, 2)</td></tr>
<tr class="separator:ac1e3dca9a095644f4f75823bd976e377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a950ba783dbcfe752ceab5e05ff6c9ebd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a950ba783dbcfe752ceab5e05ff6c9ebd">T1</a> (3, 3)</td></tr>
<tr class="separator:a950ba783dbcfe752ceab5e05ff6c9ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a599c198560ced1642eab8702305e270f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a599c198560ced1642eab8702305e270f">function</a> [<a class="el" href="error_state_kalman_8m.html#ac8927abd96967c52efda717c672f4f8a">dAError</a>, <a class="el" href="error_state_kalman_8m.html#a8459ea67c34367494089f4a6cac911f1">dGBias</a>, <a class="el" href="error_state_kalman_8m.html#a413d6fe48b0e04f1b6fa01cfa5924b42">dGScale</a>]</td></tr>
<tr class="separator:a599c198560ced1642eab8702305e270f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8962acf4367dd234de1125306e9bd51c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="utl__clocks_8h.html#a4fcd6b27605b68d39da73efe9e419533">if</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a8962acf4367dd234de1125306e9bd51c">b_initFlag</a></td></tr>
<tr class="separator:a8962acf4367dd234de1125306e9bd51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cbf8063018be67a2f9313a4b99270d8"><td class="memItemLeft" align="right" valign="top">gyro random noise <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> axis in rad&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a3cbf8063018be67a2f9313a4b99270d8">sec</a></td></tr>
<tr class="separator:a3cbf8063018be67a2f9313a4b99270d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af4beda54af250a79cafa27ede75b67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a2af4beda54af250a79cafa27ede75b67">accelerometer</a></td></tr>
<tr class="separator:a2af4beda54af250a79cafa27ede75b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f49ba65e7284089292d629f9f8763e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis magnetometer <br class="typebreak"/>
referenced in the navigation <br class="typebreak"/>
frame The values could be <br class="typebreak"/>
determined dynamically by <br class="typebreak"/>
measuring the variance <a class="el" href="mag_plot_8m.html#a58ab1fd68e97078232808206b850161b">on</a> each <br class="typebreak"/>
one of these&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a6f49ba65e7284089292d629f9f8763e0">parameters</a></td></tr>
<tr class="separator:a6f49ba65e7284089292d629f9f8763e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51892d19e34a60ed037a355cba8bf6f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis magnetometer <br class="typebreak"/>
referenced in the navigation <br class="typebreak"/>
frame The values could be <br class="typebreak"/>
determined dynamically by <br class="typebreak"/>
measuring the variance <a class="el" href="mag_plot_8m.html#a58ab1fd68e97078232808206b850161b">on</a> each <br class="typebreak"/>
one of these however they were <br class="typebreak"/>
<a class="el" href="mag_plot_8m.html#ad2662db5453e8a5f0599a49c28da1c65">set</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a51892d19e34a60ed037a355cba8bf6f4">experimentally</a></td></tr>
<tr class="separator:a51892d19e34a60ed037a355cba8bf6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54df32814dd0fb5603d83390a79c9822"><td class="memItemLeft" align="right" valign="top">Magnetometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> else <br class="typebreak"/>
Begin propagation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a54df32814dd0fb5603d83390a79c9822">phase</a></td></tr>
<tr class="separator:a54df32814dd0fb5603d83390a79c9822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77caa51e970c6d2aa150ee3ed54c209"><td class="memItemLeft" align="right" valign="top">Magnetometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> else <br class="typebreak"/>
Begin propagation <a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a> <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <br class="typebreak"/>
<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a> process noise whenever <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> <br class="typebreak"/>
large <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> has been&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#af77caa51e970c6d2aa150ee3ed54c209">detected</a></td></tr>
<tr class="separator:af77caa51e970c6d2aa150ee3ed54c209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb358f48b1646c750fb9da6c6585be2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a></td></tr>
<tr class="separator:afb358f48b1646c750fb9da6c6585be2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af4715890b2203308de1e22aa5ca1f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a2af4715890b2203308de1e22aa5ca1f4">QgScale</a> = <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td></tr>
<tr class="separator:a2af4715890b2203308de1e22aa5ca1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a6a26885fef76595c7dba9d5752fe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a20a6a26885fef76595c7dba9d5752fe0">Q</a> = [<a class="el" href="error_state_kalman_8m.html#a3e088d997e83bd453fb3f7c3baaba22e">Qatt</a>, <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td></tr>
<tr class="separator:a20a6a26885fef76595c7dba9d5752fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05581e0fc0c73b4773af622195e4b342"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a05581e0fc0c73b4773af622195e4b342">QgBias</a></td></tr>
<tr class="separator:a05581e0fc0c73b4773af622195e4b342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514f1b439f404f86f77090fa9edc96ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a514f1b439f404f86f77090fa9edc96ce">r</a></td></tr>
<tr class="separator:a514f1b439f404f86f77090fa9edc96ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c89c1f61a58d20f5b337a72833d09ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> ba removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> gyro scale <br class="typebreak"/>
factor added[2] eq with the <br class="typebreak"/>
rotation rate removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <br class="typebreak"/>
attitude propagation term <br class="typebreak"/>
<a class="el" href="error_state_kalman_8m.html#ada2519cc160a5cdc395c657503f60c3f">negated</a>[3] Section with xa <br class="typebreak"/>
removed&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a1c89c1f61a58d20f5b337a72833d09ca">Fg</a> = 0</td></tr>
<tr class="separator:a1c89c1f61a58d20f5b337a72833d09ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2519cc160a5cdc395c657503f60c3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> ba removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> gyro scale <br class="typebreak"/>
factor added[2] eq with the <br class="typebreak"/>
rotation rate removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <br class="typebreak"/>
attitude propagation term <br class="typebreak"/>
negated[3] Section with xa <br class="typebreak"/>
removed gyro scale rate added <br class="typebreak"/>
<a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> attitude propagation term&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ada2519cc160a5cdc395c657503f60c3f">negated</a></td></tr>
<tr class="separator:ada2519cc160a5cdc395c657503f60c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38c7d58a7d8abaeccfcdd239f342a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#af38c7d58a7d8abaeccfcdd239f342a62">phi02</a> = -<a class="el" href="dcm_normalize_8m.html#acb1204fdbdc06fd21577791c7d91217d">DCM</a>*[<a class="el" href="error_state_kalman_8m.html#a8b3e2536de3b319235d91da4abe2ac8e">G</a>(1), 0, 0</td></tr>
<tr class="separator:af38c7d58a7d8abaeccfcdd239f342a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf40c223796354fb6b79c9ed047c513a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#aaf40c223796354fb6b79c9ed047c513a">phi</a> = [<a class="el" href="error_state_kalman_8m.html#a24f0512dd7bb7dba2d43c1a914a36b58">eye</a>(3), phi01, <a class="el" href="error_state_kalman_8m.html#af38c7d58a7d8abaeccfcdd239f342a62">phi02</a></td></tr>
<tr class="separator:aaf40c223796354fb6b79c9ed047c513a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf169b45b8bb9a89b379b49828828973"><td class="memItemLeft" align="right" valign="top">End propagation <a class="el" href="error_state_kalman_8m.html#a54df32814dd0fb5603d83390a79c9822">phase</a> Begin <br class="typebreak"/>
correction <a class="el" href="error_state_kalman_8m.html#a54df32814dd0fb5603d83390a79c9822">phase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a> = norm( <a class="el" href="error_state_kalman_8m.html#a8b3e2536de3b319235d91da4abe2ac8e">G</a>)</td></tr>
<tr class="separator:abf169b45b8bb9a89b379b49828828973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaafc315b95987fc2b071bcd8f698b81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#afaafc315b95987fc2b071bcd8f698b81">H</a> = [H00, <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)]</td></tr>
<tr class="separator:afaafc315b95987fc2b071bcd8f698b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d2fc51f2b1b87712226d15f305a44e7"><td class="memItemLeft" align="right" valign="top">they are ignored in order to <br class="typebreak"/>
avoid <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> matrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a9d2fc51f2b1b87712226d15f305a44e7">inverse</a></td></tr>
<tr class="separator:a9d2fc51f2b1b87712226d15f305a44e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7255c4bc0e9fa663f62fbafe1026daa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#aa7255c4bc0e9fa663f62fbafe1026daa">T1</a> = <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td></tr>
<tr class="separator:aa7255c4bc0e9fa663f62fbafe1026daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8927abd96967c52efda717c672f4f8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#ac8927abd96967c52efda717c672f4f8a">dAError</a> = xAhrs(1:3)</td></tr>
<tr class="separator:ac8927abd96967c52efda717c672f4f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8459ea67c34367494089f4a6cac911f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a8459ea67c34367494089f4a6cac911f1">dGBias</a> = xAhrs(4:6)</td></tr>
<tr class="separator:a8459ea67c34367494089f4a6cac911f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413d6fe48b0e04f1b6fa01cfa5924b42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error_state_kalman_8m.html#a413d6fe48b0e04f1b6fa01cfa5924b42">dGScale</a> = xAhrs(7:9)</td></tr>
<tr class="separator:a413d6fe48b0e04f1b6fa01cfa5924b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a24f0512dd7bb7dba2d43c1a914a36b58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eye </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad005c5070c954f594bea7e974342c019"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8b3e2536de3b319235d91da4abe2ac8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc48706ebe7c3762ebebc1b79cf569dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ahrs_8m.html#abd5a608aae9055fc55bf7bf0277abdf7">res</a>(2)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">5 *&#160;</td>
          <td class="paramname"><em>rVar</em>2&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a01152faaa45b1077daa95054b190368a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ahrs_8m.html#abd5a608aae9055fc55bf7bf0277abdf7">res</a>(3)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ahrs_8m.html#a32aadae37f025a94364f993e73bb5a78">rVar</a>(3)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d0be11e8b84898e72a8832c7bc0863d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> = 1/32768</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a658d658559dd331229f51b8bba139778"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Hard limit the amount of rotation <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> acceleration if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a54d5ae7d5831a7d3a204d0a0060dce28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> if </td>
          <td>(</td>
          <td class="paramtype">bAccel&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a293da3a642d5af83135ac8c56449d72b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> if </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="error_state_kalman_8m.html#abf169b45b8bb9a89b379b49828828973">gyMag</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">.&#160;</td>
          <td class="paramname"><em>17</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a69139acee4d44a784a98346d44cb78c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else Qatt </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a77865d2a79630f6bb4acfbe319d430f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> else Qatt </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e088d997e83bd453fb3f7c3baaba22e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> else Qatt </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> = (.38*<a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/180)*<a class="el" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1765b8411a385cb7cbfc189a91e6ec36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgBias </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4e5570b54d956ce11e4df196479225c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgBias </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a39b5299925221272d7463a9c44a23c02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgBias </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4b9c96e717de283a1769723c064b3ee7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgScale </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae6349c2047507a765eb21ef6b6a39b3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgScale </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2336c76175aa09baa1b87bcd9f86fb6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgScale </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9e043f1de5477b7deb4976cd2bd554e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">R </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aea61c32f128d177a875fe8d6cd1f99e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Accelerometer <a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> R </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7972c14f231c13f8633c0a12e59e317c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Accelerometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> R </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae52152646cd1253bb5c435fea475bdfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bAccel/1 R </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a802439f8d79db007a9bef99f24868083"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T1 </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1e3dca9a095644f4f75823bd976e377"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T1 </td>
          <td>(</td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">2&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a950ba783dbcfe752ceab5e05ff6c9ebd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T1 </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4a09e5b046bcf56ad20ff9257147ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">zeros </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a2af4beda54af250a79cafa27ede75b67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis accelerometer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8962acf4367dd234de1125306e9bd51c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="utl__clocks_8h.html#a4fcd6b27605b68d39da73efe9e419533">if</a> b_initFlag</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================</div>
<div class="line">        % Initalize the attitude <a class="code" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> portion of the system noise (process </div>
<div class="line">        % noise) matrix. The value .38 was pulled from the ITG-3200 </div>
<div class="line">        % datasheet</div>
<div class="line">        % [1] eq 12.67</div>
<div class="line">        %==================================================================         </div>
<div class="line">        <a class="code" href="error_state_kalman_8m.html#a69139acee4d44a784a98346d44cb78c6">Qatt</a> = <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac8927abd96967c52efda717c672f4f8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dAError = xAhrs(1:3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af77caa51e970c6d2aa150ee3ed54c209"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Magnetometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> else Begin propagation <a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a> <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a> process noise whenever <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> large <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> has been detected</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================</div>
<div class="line">        <span class="keywordflow">if</span>( <a class="code" href="ahrs_8m.html#abcb9e071857020e3d766bca269d2c94f">res</a>(1) &gt; 5*<a class="code" href="ahrs_8m.html#ae8b4ff61c39c5c2ea8ece84aed662c7f">rVar</a>(1))</div>
<div class="line">           <a class="code" href="error_state_kalman_8m.html#a69139acee4d44a784a98346d44cb78c6">Qatt</a>(1,1) = .2</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8459ea67c34367494089f4a6cac911f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dGBias = xAhrs(4:6)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a413d6fe48b0e04f1b6fa01cfa5924b42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dGScale = xAhrs(7:9)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afb358f48b1646c750fb9da6c6585be2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================</div>
<div class="line">        % Update gyro <a class="code" href="ahrs_8m.html#aebc7d7462b5d60cbdfd443bacf4d3132">bias</a> <a class="code" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> gyro scale factor system (process) noise. </div>
<div class="line">        % The value is <a class="code" href="mag_plot_8m.html#ad2662db5453e8a5f0599a49c28da1c65">set</a> to 10% of the current <a class="code" href="ahrs_8m.html#aebc7d7462b5d60cbdfd443bacf4d3132">bias</a> <a class="code" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> scale factor</div>
<div class="line">        % estimate.</div>
<div class="line">        % [1] section 4.4.1</div>
<div class="line">        %==================================================================</div>
<div class="line">        <a class="code" href="error_state_kalman_8m.html#a05581e0fc0c73b4773af622195e4b342">QgBias</a> = <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a51892d19e34a60ed037a355cba8bf6f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis magnetometer referenced in the navigation frame The values could be determined dynamically by measuring the variance <a class="el" href="mag_plot_8m.html#a58ab1fd68e97078232808206b850161b">on</a> each one of these however they were <a class="el" href="mag_plot_8m.html#ad2662db5453e8a5f0599a49c28da1c65">set</a> experimentally</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================         </div>
<div class="line">        <a class="code" href="ellipsoid__fit_8m.html#a0068887ae91b4d52177f72ed707e6981">R</a> = <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c89c1f61a58d20f5b337a72833d09ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> ba removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> gyro scale factor added [2] eq with the rotation rate removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> attitude propagation term <a class="el" href="error_state_kalman_8m.html#ada2519cc160a5cdc395c657503f60c3f">negated</a> [3] Section with xa removed Fg = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a599c198560ced1642eab8702305e270f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">function[<a class="el" href="error_state_kalman_8m.html#ac8927abd96967c52efda717c672f4f8a">dAError</a>, <a class="el" href="error_state_kalman_8m.html#a8459ea67c34367494089f4a6cac911f1">dGBias</a>, <a class="el" href="error_state_kalman_8m.html#a413d6fe48b0e04f1b6fa01cfa5924b42">dGScale</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= errorStateKalman( <a class="code" href="error_state_kalman_8m.html#a8962acf4367dd234de1125306e9bd51c">b_initFlag</a>, <a class="code" href="ahrs_8m.html#a6c09ea21d23865d2f25f4a050d6c0c3b">deltaZ</a>, gBias, <a class="code" href="ahrs_8m.html#a41ff8572fa45a49861e7dbd98b46143f">gScale</a>, <a class="code" href="dcm_update_8m.html#acdb352fc59a62626a408e91be74f7414">DCM</a>, <a class="code" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a>, <a class="code" href="error_state_kalman_8m.html#ad005c5070c954f594bea7e974342c019">G</a>, bAccel, <a class="code" href="ahrs_8m.html#abcb9e071857020e3d766bca269d2c94f">res</a>, <a class="code" href="ahrs_8m.html#ae8b4ff61c39c5c2ea8ece84aed662c7f">rVar</a>)</div>
<div class="line">    persistent H00 <a class="code" href="error_state_kalman_8m.html#afaafc315b95987fc2b071bcd8f698b81">H</a> <a class="code" href="error_state_kalman_8m.html#a20a6a26885fef76595c7dba9d5752fe0">Q</a> <a class="code" href="error_state_kalman_8m.html#a69139acee4d44a784a98346d44cb78c6">Qatt</a> <a class="code" href="error_state_kalman_8m.html#aaf40c223796354fb6b79c9ed047c513a">phi</a> phi01 <a class="code" href="ellipsoid__fit_8m.html#a0068887ae91b4d52177f72ed707e6981">R</a> P</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abf169b45b8bb9a89b379b49828828973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">End propagation <a class="el" href="error_state_kalman_8m.html#a54df32814dd0fb5603d83390a79c9822">phase</a> Begin correction <a class="el" href="error_state_kalman_8m.html#a54df32814dd0fb5603d83390a79c9822">phase</a> gyMag = norm( <a class="el" href="error_state_kalman_8m.html#a8b3e2536de3b319235d91da4abe2ac8e">G</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afaafc315b95987fc2b071bcd8f698b81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">H = [H00, <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9d2fc51f2b1b87712226d15f305a44e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">they are ignored in order to avoid <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> matrix inverse</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================         </div>
<div class="line">        <a class="code" href="ahrs_8m.html#ae49740b4cb1b92c947eb5c14ac953acf">T</a> = <a class="code" href="error_state_kalman_8m.html#afaafc315b95987fc2b071bcd8f698b81">H</a>*P*<a class="code" href="error_state_kalman_8m.html#afaafc315b95987fc2b071bcd8f698b81">H</a><span class="stringliteral">&#39;+ R</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ada2519cc160a5cdc395c657503f60c3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> ba removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> gyro scale factor added [2] eq with the rotation rate removed <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> attitude propagation term negated [3] Section with xa removed gyro scale rate added <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> attitude propagation term negated</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================        </div>
<div class="line">        phi01 = <a class="code" href="dcm_update_8m.html#acdb352fc59a62626a408e91be74f7414">DCM</a>*<a class="code" href="ahrs_8m.html#a4ff248a90c101bf3e3713c17cd3ffab0">dt</a></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f49ba65e7284089292d629f9f8763e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis magnetometer referenced in the navigation frame The values could be determined dynamically by measuring the variance <a class="el" href="mag_plot_8m.html#a58ab1fd68e97078232808206b850161b">on</a> each one of these parameters</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a54df32814dd0fb5603d83390a79c9822"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Magnetometer <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> axis <a class="el" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> else Begin propagation phase</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================</div>
<div class="line">        % Update attitude system (process) noise. This <a class="code" href="mag_plot_8m.html#ae5f3bfeb7e3cb5c8bc769d5504ebeeae">step</a> corrects for</div>
<div class="line">        % Kalman tracking errors by increasing the <a class="code" href="acc_roll_pitch_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaf40c223796354fb6b79c9ed047c513a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phi = [<a class="el" href="error_state_kalman_8m.html#a24f0512dd7bb7dba2d43c1a914a36b58">eye</a>(3), phi01, <a class="el" href="error_state_kalman_8m.html#af38c7d58a7d8abaeccfcdd239f342a62">phi02</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af38c7d58a7d8abaeccfcdd239f342a62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">phi02 = -<a class="el" href="dcm_normalize_8m.html#acb1204fdbdc06fd21577791c7d91217d">DCM</a>*[<a class="el" href="error_state_kalman_8m.html#a8b3e2536de3b319235d91da4abe2ac8e">G</a>(1), 0, 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a20a6a26885fef76595c7dba9d5752fe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> <a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a> Q = [<a class="el" href="error_state_kalman_8m.html#a3e088d997e83bd453fb3f7c3baaba22e">Qatt</a>, <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a05581e0fc0c73b4773af622195e4b342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgBias</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2af4715890b2203308de1e22aa5ca1f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QgScale = <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a514f1b439f404f86f77090fa9edc96ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">r</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3cbf8063018be67a2f9313a4b99270d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gyro random noise <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> axis in rad sec</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">==================================================================</div>
<div class="line">        % Initialize the <a class="code" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a> covariance 9x9 matrix to <a class="code" href="ahrs_8m.html#af470882f7e2022851bcd30badb9762f1">all</a> <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a> since</div>
<div class="line">        % <span class="keyword">this</span> is an <a class="code" href="dcm_normalize_8m.html#a5ee817c076587e88884910406497df94">error</a>-state not total-state Kalman filter.</div>
<div class="line">        % [1] section 3.2.1 eq 3.5</div>
<div class="line">        %==================================================================     </div>
<div class="line">        P = [ <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3), <a class="code" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7255c4bc0e9fa663f62fbafe1026daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">T1 = <a class="el" href="error_state_kalman_8m.html#aa4a09e5b046bcf56ad20ff9257147ecf">zeros</a>(3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 8 2014 08:12:38 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>

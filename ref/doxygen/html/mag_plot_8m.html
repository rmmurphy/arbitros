<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>C:/arbitros/trunk/drivers/matlab/ins/magPlot.m File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="arbitros.bmp"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_14bc92f4b96c8519b376567118ac28b3.html">drivers</a></li><li class="navelem"><a class="el" href="dir_657292dc0854b2704f510dde90e5f1b6.html">matlab</a></li><li class="navelem"><a class="el" href="dir_3095d7a32c5fd7cbdc92191248f8aca5.html">ins</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">magPlot.m File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3fe224e6a3cead3a2b66a2ccbbb47706"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a3fe224e6a3cead3a2b66a2ccbbb47706">position.Hnew</a> = (<a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a> *<a class="el" href="mag_plot_8m.html#ab9c49d889082cfa6e9f1fe1be0fddced">Winv</a> *<a class="el" href="mag_plot_8m.html#a029115ba7fd63b2451bf33fbe427ce63">S</a>)*<a class="el" href="mag_plot_8m.html#ab9c49d889082cfa6e9f1fe1be0fddced">Winv</a>'</td></tr>
<tr class="separator:a3fe224e6a3cead3a2b66a2ccbbb47706"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a51bd24325607cac09c483b9dd862bacc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mag_plot_8m.html#ae3cf707f4656149c19b43d5458eb0eee">H</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a51bd24325607cac09c483b9dd862bacc">fix</a> ()</td></tr>
<tr class="separator:a51bd24325607cac09c483b9dd862bacc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee307926074ece43f45be386744f9397"><td class="memItemLeft" align="right" valign="top">id&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a> ()</td></tr>
<tr class="separator:aee307926074ece43f45be386744f9397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba7552ec483a840ccf954dbe1992a2ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#aba7552ec483a840ccf954dbe1992a2ba">cos</a> (<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) cos(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*cos(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)+sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)-sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*cos(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)+cos(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)</td></tr>
<tr class="separator:aba7552ec483a840ccf954dbe1992a2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac264cb7a3e98c2dbba574f8245043bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a> ()</td></tr>
<tr class="separator:aac264cb7a3e98c2dbba574f8245043bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3cf707f4656149c19b43d5458eb0eee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ae3cf707f4656149c19b43d5458eb0eee">H</a> (1:32:<a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>,:)</td></tr>
<tr class="separator:ae3cf707f4656149c19b43d5458eb0eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121edc20c9cc04dbddded13213ac4381"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a121edc20c9cc04dbddded13213ac4381">fprintf</a> ( '<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> center:%.3g%.3g%.3g\n', center)</td></tr>
<tr class="separator:a121edc20c9cc04dbddded13213ac4381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7e017d175c6feed2c9ed3f44cc903b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a6d7e017d175c6feed2c9ed3f44cc903b">fprintf</a> ( '<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> radii:%.3g%.3g%.3g\n', radii)</td></tr>
<tr class="separator:a6d7e017d175c6feed2c9ed3f44cc903b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a974a06a08f40e41a4f66e12872e630"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a2a974a06a08f40e41a4f66e12872e630">fprintf</a> ( '<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> evecs:\n')</td></tr>
<tr class="separator:a2a974a06a08f40e41a4f66e12872e630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1de65a870e3ebd8d50f855f5424e998"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ac1de65a870e3ebd8d50f855f5424e998">fprintf</a> ( '%.3g%.3g%.3g\n%.3g%.3g%.3g\n%.3g%.3g%.3g\n',...evecs(1), evecs(2), evecs(3), evecs(4), evecs(5), evecs(6), evecs(7), evecs(8), evecs(9))</td></tr>
<tr class="separator:ac1de65a870e3ebd8d50f855f5424e998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201601672d6c8295ee23e9e73e8df220"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a201601672d6c8295ee23e9e73e8df220">fprintf</a> ( 'Algebraic form:\n')</td></tr>
<tr class="separator:a201601672d6c8295ee23e9e73e8df220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ce5f3a538ba143f1723a1eaa046781"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ac3ce5f3a538ba143f1723a1eaa046781">fprintf</a> ( '%.3g ', v)</td></tr>
<tr class="separator:ac3ce5f3a538ba143f1723a1eaa046781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cda6577b2867160825b426f556da2fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a4cda6577b2867160825b426f556da2fd">fprintf</a> ( '\n')</td></tr>
<tr class="separator:a4cda6577b2867160825b426f556da2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2989a5ff4adf55da96d6281e46b697b"><td class="memItemLeft" align="right" valign="top">draw <a class="el" href="mag_plot_8m.html#a319265c6545ca1709d9d77b54665cf1b">data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ad2989a5ff4adf55da96d6281e46b697b">plot3</a> (<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>, <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>, '.<a class="el" href="error_state_kalman_8m.html#a514f1b439f404f86f77090fa9edc96ce">r</a>')</td></tr>
<tr class="separator:ad2989a5ff4adf55da96d6281e46b697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151e4f4abf8a0ee8ab837deab1750257"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a151e4f4abf8a0ee8ab837deab1750257">xlabel</a> ('<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>') ylabel('<a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>') zlabel('<a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>') axis([-<a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> <a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a>-<a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> <a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a>-<a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> <a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a>])</td></tr>
<tr class="separator:a151e4f4abf8a0ee8ab837deab1750257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73decca241705c984c5c9568c52f2ba9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a73decca241705c984c5c9568c52f2ba9">line</a> (<a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(1, 3), <a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(2, 3), <a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(3, 3))</td></tr>
<tr class="separator:a73decca241705c984c5c9568c52f2ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2662db5453e8a5f0599a49c28da1c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ad2662db5453e8a5f0599a49c28da1c65">set</a> (<a class="el" href="mag_plot_8m.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>, 'FaceColor', 'g', 'EdgeColor', 'none')</td></tr>
<tr class="separator:ad2662db5453e8a5f0599a49c28da1c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46086883d1e573c638a6d8f3a9eeca03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a46086883d1e573c638a6d8f3a9eeca03">view</a> (-25, 15.5)</td></tr>
<tr class="separator:a46086883d1e573c638a6d8f3a9eeca03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a319265c6545ca1709d9d77b54665cf1b"><td class="memItemLeft" align="right" valign="top">test ellipsoid fit create the test&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a319265c6545ca1709d9d77b54665cf1b">data</a></td></tr>
<tr class="separator:a319265c6545ca1709d9d77b54665cf1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7993a910e3864ada05ae35fe7205d276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a> = <a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/4</td></tr>
<tr class="separator:a7993a910e3864ada05ae35fe7205d276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe627986b4147fc678023fb03e010791"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a> = 0</td></tr>
<tr class="separator:afe627986b4147fc678023fb03e010791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeddb3af347c13f3d0915fb2e613acce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a> = 0</td></tr>
<tr class="separator:aaeddb3af347c13f3d0915fb2e613acce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d5d24f5b09a1991bd4e5f57bf11237"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a16d5d24f5b09a1991bd4e5f57bf11237">pi</a></td></tr>
<tr class="separator:a16d5d24f5b09a1991bd4e5f57bf11237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4c954400b2a2af07b5e5221a63776e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ab4c954400b2a2af07b5e5221a63776e4">calEnv</a> = 4096</td></tr>
<tr class="separator:ab4c954400b2a2af07b5e5221a63776e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc6f7ce94f6d8d05662e339bd0f0150f"><td class="memItemLeft" align="right" valign="top">Used for giving the readings <br class="typebreak"/>
some more distortion in order <br class="typebreak"/>
to test out the performance of <br class="typebreak"/>
the <a class="el" href="ahrs_8m.html#a83faab68a35ae3221d423fcb1ecfb01e">algorithm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#abc6f7ce94f6d8d05662e339bd0f0150f">ROT</a> = [<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) -<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) + sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)+<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)</td></tr>
<tr class="separator:abc6f7ce94f6d8d05662e339bd0f0150f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029115ba7fd63b2451bf33fbe427ce63"><td class="memItemLeft" align="right" valign="top">The axis scale factors as <br class="typebreak"/>
calculated by the least <a class="el" href="ahrs_8m.html#a5ee419443ced73d345810f5724d7f1b8">mean</a> <br class="typebreak"/>
squares estimator needed to <br class="typebreak"/>
translate the axis of the <br class="typebreak"/>
ellipsoid back onto <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> sphere <br class="typebreak"/>
of radius&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a029115ba7fd63b2451bf33fbe427ce63">S</a></td></tr>
<tr class="separator:a029115ba7fd63b2451bf33fbe427ce63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c49d889082cfa6e9f1fe1be0fddced"><td class="memItemLeft" align="right" valign="top">The rotation <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> scale factors&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ab9c49d889082cfa6e9f1fe1be0fddced">Winv</a></td></tr>
<tr class="separator:ab9c49d889082cfa6e9f1fe1be0fddced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0c7a864c82ecffdd637358f88fa57d"><td class="memItemLeft" align="right" valign="top">The <a class="el" href="ahrs_8m.html#aebc7d7462b5d60cbdfd443bacf4d3132">bias</a> as calculated by the <br class="typebreak"/>
least <a class="el" href="ahrs_8m.html#a5ee419443ced73d345810f5724d7f1b8">mean</a> squares estimator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a> = [-97.12036 33.46997 -10.94434]</td></tr>
<tr class="separator:a4f0c7a864c82ecffdd637358f88fa57d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa0020b68a6a95a517fb4f6e2ac911a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a> = <a class="el" href="mag_plot_8m.html#ae3cf707f4656149c19b43d5458eb0eee">H</a></td></tr>
<tr class="separator:abfa0020b68a6a95a517fb4f6e2ac911a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9336ebf25087d91c818ee6e9ec29f8c1"><td class="memItemLeft" align="right" valign="top">Apply corrections in order to <br class="typebreak"/>
turn the ellipse back into <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> <br class="typebreak"/>
sphere&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,1)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(1)</td></tr>
<tr class="separator:a9336ebf25087d91c818ee6e9ec29f8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb1c5cf58867b5bbc9a1b145a86f3a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,2)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(2)</td></tr>
<tr class="separator:a2fb1c5cf58867b5bbc9a1b145a86f3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ed1bcb423b0b7200f485fc5ff71c8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,3)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(3)</td></tr>
<tr class="separator:a25ed1bcb423b0b7200f485fc5ff71c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826da4c11282c59b42810cfa716f616e"><td class="memItemLeft" align="right" valign="top">do the&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a826da4c11282c59b42810cfa716f616e">fitting</a> [<a class="el" href="ellipsoid__fit_8m.html#aded1d98bab231dedd1e85ecf5f1aeca3">center</a>, <a class="el" href="ellipsoid__fit_8m.html#a5c11ff4f5370dcd098585cf3d47702a4">radii</a>, <a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>, <a class="el" href="ellipsoid__fit_8m.html#acc4a0efce1aac171b5728dd09160ddbf">v</a>] = ellipsoid_fit( [<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> ],0)</td></tr>
<tr class="separator:a826da4c11282c59b42810cfa716f616e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2389d0885d2aaf6d6cac65517221d4ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a2389d0885d2aaf6d6cac65517221d4ef">maxX</a> = max(abs(<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>))</td></tr>
<tr class="separator:a2389d0885d2aaf6d6cac65517221d4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc4d2d0fed0b6a054e54b771c4e8aa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a9dc4d2d0fed0b6a054e54b771c4e8aa1">maxY</a> = max(abs(<a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>))</td></tr>
<tr class="separator:a9dc4d2d0fed0b6a054e54b771c4e8aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ae91ec69e64fa4b40db46e2ef46783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a08ae91ec69e64fa4b40db46e2ef46783">maxZ</a> = max(abs(<a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>))</td></tr>
<tr class="separator:a08ae91ec69e64fa4b40db46e2ef46783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113d58bb185e41a495105553b1054a32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> = max([<a class="el" href="mag_plot_8m.html#a2389d0885d2aaf6d6cac65517221d4ef">maxX</a> <a class="el" href="mag_plot_8m.html#a9dc4d2d0fed0b6a054e54b771c4e8aa1">maxY</a> <a class="el" href="mag_plot_8m.html#a08ae91ec69e64fa4b40db46e2ef46783">maxZ</a>])</td></tr>
<tr class="separator:a113d58bb185e41a495105553b1054a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ab1fd68e97078232808206b850161b"><td class="memItemLeft" align="right" valign="top">grid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a58ab1fd68e97078232808206b850161b">on</a></td></tr>
<tr class="separator:a58ab1fd68e97078232808206b850161b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5f3bfeb7e3cb5c8bc769d5504ebeeae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ae5f3bfeb7e3cb5c8bc769d5504ebeeae">step</a> = <a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> / 50</td></tr>
<tr class="separator:ae5f3bfeb7e3cb5c8bc769d5504ebeeae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb433e010faa9484e095b9b41e70a5ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a></td></tr>
<tr class="separator:aeb433e010faa9484e095b9b41e70a5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac483f6ce851c9ecd9fb835ff7551737c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a> = patch( isosurface( <a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>, <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>, <a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a>, 1 ) )</td></tr>
<tr class="separator:ac483f6ce851c9ecd9fb835ff7551737c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06af72866e1ad098c66d9c182c77646"><td class="memItemLeft" align="right" valign="top">axis&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#ac06af72866e1ad098c66d9c182c77646">vis3d</a></td></tr>
<tr class="separator:ac06af72866e1ad098c66d9c182c77646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5a139c32a9ef18cf2334eea786bd0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a3b5a139c32a9ef18cf2334eea786bd0d">camlight</a></td></tr>
<tr class="separator:a3b5a139c32a9ef18cf2334eea786bd0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bdd65848da246ff2688ec7971b9c719"><td class="memItemLeft" align="right" valign="top">lighting&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mag_plot_8m.html#a4bdd65848da246ff2688ec7971b9c719">phong</a></td></tr>
<tr class="separator:a4bdd65848da246ff2688ec7971b9c719"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a3fe224e6a3cead3a2b66a2ccbbb47706"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using position.
<a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a> =  (<a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>*<a class="el" href="mag_plot_8m.html#ab9c49d889082cfa6e9f1fe1be0fddced">Winv</a>*<a class="el" href="mag_plot_8m.html#a029115ba7fd63b2451bf33fbe427ce63">S</a>)*<a class="el" href="mag_plot_8m.html#ab9c49d889082cfa6e9f1fe1be0fddced">Winv</a>'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aba7552ec483a840ccf954dbe1992a2ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aac264cb7a3e98c2dbba574f8245043bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a> cos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a51bd24325607cac09c483b9dd862bacc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mag_plot_8m.html#ae3cf707f4656149c19b43d5458eb0eee">H</a> fix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a121edc20c9cc04dbddded13213ac4381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> center:%.3g%.3g%.3g\n'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#aded1d98bab231dedd1e85ecf5f1aeca3">center</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6d7e017d175c6feed2c9ed3f44cc903b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> radii:%.3g%.3g%.3g\n'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a5c11ff4f5370dcd098585cf3d47702a4">radii</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2a974a06a08f40e41a4f66e12872e630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a> evecs:\n'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac1de65a870e3ebd8d50f855f5424e998"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'%.3g%.3g%.3g\n%.3g%.3g%.3g\n%.3g%.3g%.3g\n'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>evecs</em>1, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(2)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(3)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(4)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(5)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(6)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(7)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(8)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(9)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a201601672d6c8295ee23e9e73e8df220"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'Algebraic form:\n'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac3ce5f3a538ba143f1723a1eaa046781"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'%.3g '&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#acc4a0efce1aac171b5728dd09160ddbf">v</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4cda6577b2867160825b426f556da2fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fprintf </td>
          <td>(</td>
          <td class="paramtype">'\n'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae3cf707f4656149c19b43d5458eb0eee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">H </td>
          <td>(</td>
          <td class="paramtype">1:32:<a class="el" href="error_state_kalman_8m.html#afb358f48b1646c750fb9da6c6585be2b">end</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">:&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a73decca241705c984c5c9568c52f2ba9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(1, 3)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(2, 3)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>(3, 3)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aee307926074ece43f45be386744f9397"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">id pi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2989a5ff4adf55da96d6281e46b697b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">draw <a class="el" href="mag_plot_8m.html#a319265c6545ca1709d9d77b54665cf1b">data</a> plot3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'.<a class="el" href="error_state_kalman_8m.html#a514f1b439f404f86f77090fa9edc96ce">r</a>'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2662db5453e8a5f0599a49c28da1c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mag_plot_8m.html#ac483f6ce851c9ecd9fb835ff7551737c">p</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'FaceColor'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'g'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'EdgeColor'&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'none'&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a46086883d1e573c638a6d8f3a9eeca03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">view </td>
          <td>(</td>
          <td class="paramtype">-&#160;</td>
          <td class="paramname"><em>25</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">15.&#160;</td>
          <td class="paramname"><em>5</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a151e4f4abf8a0ee8ab837deab1750257"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xlabel </td>
          <td>(</td>
          <td class="paramtype">'<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>'&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a4f0c7a864c82ecffdd637358f88fa57d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">The <a class="el" href="ahrs_8m.html#aebc7d7462b5d60cbdfd443bacf4d3132">bias</a> as calculated by the least <a class="el" href="ahrs_8m.html#a5ee419443ced73d345810f5724d7f1b8">mean</a> squares estimator B = [-97.12036 33.46997 -10.94434]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4c954400b2a2af07b5e5221a63776e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">calEnv = 4096</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b5a139c32a9ef18cf2334eea786bd0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">camlight</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a319265c6545ca1709d9d77b54665cf1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">test ellipsoid fit create the test data</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aeb433e010faa9484e095b9b41e70a5ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ellipsoid</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(1) *<a class="code" href="namespacearbitros_ahrs.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>.*<a class="code" href="namespacearbitros_ahrs.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> +   <a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(2) * <a class="code" href="namespacearbitros_ahrs.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>.*<a class="code" href="namespacearbitros_ahrs.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> + <a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(3) * <a class="code" href="ellipsoid__fit_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>.*<a class="code" href="ellipsoid__fit_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> + ...</div>
<div class="line">          2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(4) *<a class="code" href="namespacearbitros_ahrs.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>.*<a class="code" href="namespacearbitros_ahrs.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> + 2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(5)*<a class="code" href="namespacearbitros_ahrs.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>.*<a class="code" href="ellipsoid__fit_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> + 2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(6) * <a class="code" href="namespacearbitros_ahrs.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>.*<a class="code" href="ellipsoid__fit_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> + ...</div>
<div class="line">          2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(7) *<a class="code" href="namespacearbitros_ahrs.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>    + 2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(8)*<a class="code" href="namespacearbitros_ahrs.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>    + 2*<a class="code" href="ellipsoid__fit_8m.html#ad89a7fd19b370101b0ffd846590ff83b">v</a>(9) * <a class="code" href="ellipsoid__fit_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a826da4c11282c59b42810cfa716f616e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">do the fitting[<a class="el" href="ellipsoid__fit_8m.html#aded1d98bab231dedd1e85ecf5f1aeca3">center</a>, <a class="el" href="ellipsoid__fit_8m.html#a5c11ff4f5370dcd098585cf3d47702a4">radii</a>, <a class="el" href="ellipsoid__fit_8m.html#a7de95afff3150493c5595c8c887be60c">evecs</a>, <a class="el" href="ellipsoid__fit_8m.html#acc4a0efce1aac171b5728dd09160ddbf">v</a>] = ellipsoid_fit( [<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a> <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a> ],0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abfa0020b68a6a95a517fb4f6e2ac911a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Hnew = <a class="el" href="mag_plot_8m.html#ae3cf707f4656149c19b43d5458eb0eee">H</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a113d58bb185e41a495105553b1054a32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">draw fit maxd = max([<a class="el" href="mag_plot_8m.html#a2389d0885d2aaf6d6cac65517221d4ef">maxX</a> <a class="el" href="mag_plot_8m.html#a9dc4d2d0fed0b6a054e54b771c4e8aa1">maxY</a> <a class="el" href="mag_plot_8m.html#a08ae91ec69e64fa4b40db46e2ef46783">maxZ</a>])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2389d0885d2aaf6d6cac65517221d4ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">maxX = max(abs(<a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9dc4d2d0fed0b6a054e54b771c4e8aa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">maxY = max(abs(<a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a08ae91ec69e64fa4b40db46e2ef46783"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">maxZ = max(abs(<a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a58ab1fd68e97078232808206b850161b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">hold on</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac483f6ce851c9ecd9fb835ff7551737c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">p = patch( isosurface( <a class="el" href="mag_plot_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a>, <a class="el" href="mag_plot_8m.html#a2fb1c5cf58867b5bbc9a1b145a86f3a0">y</a>, <a class="el" href="mag_plot_8m.html#a25ed1bcb423b0b7200f485fc5ff71c8e">z</a>, <a class="el" href="mag_plot_8m.html#aeb433e010faa9484e095b9b41e70a5ea">Ellipsoid</a>, 1 ) )</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4bdd65848da246ff2688ec7971b9c719"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lighting phong</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a16d5d24f5b09a1991bd4e5f57bf11237"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pi</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afe627986b4147fc678023fb03e010791"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pitch = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7993a910e3864ada05ae35fe7205d276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">roll = <a class="el" href="mag_plot_8m.html#aee307926074ece43f45be386744f9397">pi</a>/4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abc6f7ce94f6d8d05662e339bd0f0150f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Used for giving the readings some more distortion in order to test out the performance of the <a class="el" href="ahrs_8m.html#a83faab68a35ae3221d423fcb1ecfb01e">algorithm</a> ROT = [<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) -<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) + sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>) sin(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)+<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#afe627986b4147fc678023fb03e010791">pitch</a>)*sin(<a class="el" href="mag_plot_8m.html#a7993a910e3864ada05ae35fe7205d276">roll</a>)*<a class="el" href="mag_plot_8m.html#aac264cb7a3e98c2dbba574f8245043bf">cos</a>(<a class="el" href="mag_plot_8m.html#aaeddb3af347c13f3d0915fb2e613acce">yaw</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a029115ba7fd63b2451bf33fbe427ce63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">The axis scale factors as calculated by the least <a class="el" href="ahrs_8m.html#a5ee419443ced73d345810f5724d7f1b8">mean</a> squares estimator needed to translate the axis of the ellipsoid back onto <a class="el" href="ellipsoid__fit_8m.html#a44f09445f90540f74824a1839982d0de">a</a> sphere of radius S</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [    5.65514                        0                         0</div>
<div class="line">                         0    12.96103                        0</div>
<div class="line">                         0                         0    22.78584]</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5f3bfeb7e3cb5c8bc769d5504ebeeae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">step = <a class="el" href="mag_plot_8m.html#a113d58bb185e41a495105553b1054a32">maxd</a> / 50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac06af72866e1ad098c66d9c182c77646"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">axis vis3d</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab9c49d889082cfa6e9f1fe1be0fddced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">The rotation <a class="el" href="ahrs_8m.html#afa199521a240e64469e26df8973798f0">and</a> scale factors Winv</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [0.508 0.711 0.487</div>
<div class="line">-0.693 0.000905 0.721</div>
<div class="line">0.512 -0.704 0.493]<span class="stringliteral">&#39;</span></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9336ebf25087d91c818ee6e9ec29f8c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">x = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,1)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fb1c5cf58867b5bbc9a1b145a86f3a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">y = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,2)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaeddb3af347c13f3d0915fb2e613acce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">yaw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a25ed1bcb423b0b7200f485fc5ff71c8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">z = <a class="el" href="mag_plot_8m.html#abfa0020b68a6a95a517fb4f6e2ac911a">Hnew</a>(:,3)-<a class="el" href="mag_plot_8m.html#a4f0c7a864c82ecffdd637358f88fa57d">B</a>(3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Mar 8 2014 08:12:38 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>

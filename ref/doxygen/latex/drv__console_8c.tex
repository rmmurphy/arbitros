\hypertarget{drv__console_8c}{\section{C\-:/arbitros/trunk/drivers/source/drv\-\_\-console.c File Reference}
\label{drv__console_8c}\index{C\-:/arbitros/trunk/drivers/source/drv\-\_\-console.\-c@{C\-:/arbitros/trunk/drivers/source/drv\-\_\-console.\-c}}
}
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}arb\-\_\-device.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}arb\-\_\-semaphore.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drv\-\_\-console.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utl\-\_\-uart.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utl\-\_\-buffer.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utl\-\_\-pmic.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structt__console_dev}{t\-\_\-console\-Dev}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{drv__console_8c_a1649b34468b10659c234a50989a91df8}{C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R}~(127)
\item 
\#define \hyperlink{drv__console_8c_a690c7e0373f0b3a33d997d391378a3bc}{C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R}~(13)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__console_8c_aa685825d68d8cb26bf026e4f945c41af}{console\-Open} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-handle)
\item 
static int16\-\_\-t \hyperlink{drv__console_8c_a9fb5f529dd63b91f0f78d44a690c88fe}{console\-Read} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-handle, int8\-\_\-t $\ast$pc\-\_\-buff, uint16\-\_\-t s\-\_\-size)
\item 
static int16\-\_\-t \hyperlink{drv__console_8c_a8b7c59a5a54887aaacd4a1167e33cd78}{console\-Write} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-handle, int8\-\_\-t $\ast$pc\-\_\-buff, uint16\-\_\-t s\-\_\-size)
\item 
static int32\-\_\-t \hyperlink{drv__console_8c_a819ed3411fc20a6cc3d8cbb263438985}{console\-Ioctl} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-handle, uint16\-\_\-t s\-\_\-command, int32\-\_\-t i\-\_\-arguments)
\item 
static \hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__console_8c_a042462fcb5989085bcd981554341cbc4}{console\-Close} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-handle)
\item 
static void \hyperlink{drv__console_8c_a41ca1f8e23510ed0b2d33cfc2ef9ee0b}{rx\-Complete} (uint16\-\_\-t s\-\_\-byte)
\item 
static int8\-\_\-t $\ast$ \hyperlink{drv__console_8c_a518fbe4be1d43c81a7df8f503674611e}{drv\-\_\-str\-Tok} (int8\-\_\-t $\ast$pc\-\_\-in, int8\-\_\-t $\ast$pc\-\_\-out, int8\-\_\-t c\-\_\-delim, int8\-\_\-t $\ast$pc\-\_\-bytes\-Remaining, int8\-\_\-t $\ast$pc\-\_\-token\-Size)
\item 
static \hyperlink{drv__console_8h_a867345d845a6535f00f0886b7b75385a}{t\-\_\-console\-Error} \hyperlink{drv__console_8c_af9b170c8afdf4202d317e19398a01de0}{drv\-\_\-parse\-Message} (int8\-\_\-t $\ast$pc\-\_\-cbuff, int8\-\_\-t ac\-\_\-tok\mbox{[}$\,$\mbox{]}\mbox{[}\hyperlink{drv__console_8h_a0e3ca061be18c883d02bfcde6fff5a62}{C\-O\-N\-S\-O\-L\-E\-\_\-\-M\-A\-X\-\_\-\-T\-O\-K\-E\-N\-\_\-\-S\-I\-Z\-E}\mbox{]}, uint8\-\_\-t $\ast$pc\-\_\-token\-Count)
\item 
\hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__console_8c_a5a614b26735280acecc7cde8ae7fb56d}{drv\-\_\-console\-Init} (\hyperlink{structt__console_setup}{t\-\_\-console\-Setup} t\-\_\-setup)
\item 
void \hyperlink{drv__console_8c_ab1e76423803e3cee7402604dec7052bd}{drv\-\_\-console\-Exit} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structt__device_operations}{t\-\_\-device\-Operations} \hyperlink{drv__console_8c_a78db9d1199b1039e665d37f5a2a6e296}{gt\-\_\-console\-Dev\-Ops}
\item 
static \hyperlink{structt__console_dev}{t\-\_\-console\-Dev} \hyperlink{drv__console_8c_a43a032439d24b9892164c4d56f6a8f1b}{gt\-\_\-console\-Dev}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{drv__console_8c_a1649b34468b10659c234a50989a91df8}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R@{C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R}}
\index{C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R@{C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-O\-N\-S\-O\-L\-E\-\_\-\-B\-A\-C\-K\-S\-P\-A\-C\-E\-\_\-\-C\-H\-A\-R~(127)}}\label{drv__console_8c_a1649b34468b10659c234a50989a91df8}
\hypertarget{drv__console_8c_a690c7e0373f0b3a33d997d391378a3bc}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R@{C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R}}
\index{C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R@{C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\-O\-N\-S\-O\-L\-E\-\_\-\-R\-E\-T\-U\-R\-N\-\_\-\-C\-H\-A\-R~(13)}}\label{drv__console_8c_a690c7e0373f0b3a33d997d391378a3bc}


\subsection{Function Documentation}
\hypertarget{drv__console_8c_a042462fcb5989085bcd981554341cbc4}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!console\-Close@{console\-Close}}
\index{console\-Close@{console\-Close}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{console\-Close}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf t\-\_\-error} console\-Close (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a042462fcb5989085bcd981554341cbc4}
\hypertarget{drv__console_8c_a819ed3411fc20a6cc3d8cbb263438985}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!console\-Ioctl@{console\-Ioctl}}
\index{console\-Ioctl@{console\-Ioctl}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{console\-Ioctl}]{\setlength{\rightskip}{0pt plus 5cm}static int32\-\_\-t console\-Ioctl (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-handle, }
\item[{uint16\-\_\-t}]{s\-\_\-command, }
\item[{int32\-\_\-t}]{i\-\_\-arguments}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a819ed3411fc20a6cc3d8cbb263438985}
\hypertarget{drv__console_8c_aa685825d68d8cb26bf026e4f945c41af}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!console\-Open@{console\-Open}}
\index{console\-Open@{console\-Open}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{console\-Open}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf t\-\_\-error} console\-Open (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-handle}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_aa685825d68d8cb26bf026e4f945c41af}
\hypertarget{drv__console_8c_a9fb5f529dd63b91f0f78d44a690c88fe}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!console\-Read@{console\-Read}}
\index{console\-Read@{console\-Read}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{console\-Read}]{\setlength{\rightskip}{0pt plus 5cm}static int16\-\_\-t console\-Read (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-handle, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-buff, }
\item[{uint16\-\_\-t}]{s\-\_\-size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a9fb5f529dd63b91f0f78d44a690c88fe}
\hypertarget{drv__console_8c_a8b7c59a5a54887aaacd4a1167e33cd78}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!console\-Write@{console\-Write}}
\index{console\-Write@{console\-Write}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{console\-Write}]{\setlength{\rightskip}{0pt plus 5cm}static int16\-\_\-t console\-Write (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-handle, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-buff, }
\item[{uint16\-\_\-t}]{s\-\_\-size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a8b7c59a5a54887aaacd4a1167e33cd78}
\hypertarget{drv__console_8c_ab1e76423803e3cee7402604dec7052bd}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!drv\-\_\-console\-Exit@{drv\-\_\-console\-Exit}}
\index{drv\-\_\-console\-Exit@{drv\-\_\-console\-Exit}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{drv\-\_\-console\-Exit}]{\setlength{\rightskip}{0pt plus 5cm}void drv\-\_\-console\-Exit (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{drv__console_8c_ab1e76423803e3cee7402604dec7052bd}
\hypertarget{drv__console_8c_a5a614b26735280acecc7cde8ae7fb56d}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!drv\-\_\-console\-Init@{drv\-\_\-console\-Init}}
\index{drv\-\_\-console\-Init@{drv\-\_\-console\-Init}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{drv\-\_\-console\-Init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-error} drv\-\_\-console\-Init (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-console\-Setup}}]{t\-\_\-setup}
\end{DoxyParamCaption}
)}}\label{drv__console_8c_a5a614b26735280acecc7cde8ae7fb56d}
\hypertarget{drv__console_8c_af9b170c8afdf4202d317e19398a01de0}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!drv\-\_\-parse\-Message@{drv\-\_\-parse\-Message}}
\index{drv\-\_\-parse\-Message@{drv\-\_\-parse\-Message}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{drv\-\_\-parse\-Message}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf t\-\_\-console\-Error} drv\-\_\-parse\-Message (
\begin{DoxyParamCaption}
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-cbuff, }
\item[{int8\-\_\-t}]{ac\-\_\-tok\mbox{[}$\,$\mbox{]}\mbox{[}\-C\-O\-N\-S\-O\-L\-E\-\_\-\-M\-A\-X\-\_\-\-T\-O\-K\-E\-N\-\_\-\-S\-I\-Z\-E\mbox{]}, }
\item[{uint8\-\_\-t $\ast$}]{pc\-\_\-token\-Count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_af9b170c8afdf4202d317e19398a01de0}
\hypertarget{drv__console_8c_a518fbe4be1d43c81a7df8f503674611e}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!drv\-\_\-str\-Tok@{drv\-\_\-str\-Tok}}
\index{drv\-\_\-str\-Tok@{drv\-\_\-str\-Tok}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{drv\-\_\-str\-Tok}]{\setlength{\rightskip}{0pt plus 5cm}static int8\-\_\-t $\ast$ drv\-\_\-str\-Tok (
\begin{DoxyParamCaption}
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-in, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-out, }
\item[{int8\-\_\-t}]{c\-\_\-delim, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-bytes\-Remaining, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-token\-Size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a518fbe4be1d43c81a7df8f503674611e}
\hypertarget{drv__console_8c_a41ca1f8e23510ed0b2d33cfc2ef9ee0b}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!rx\-Complete@{rx\-Complete}}
\index{rx\-Complete@{rx\-Complete}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{rx\-Complete}]{\setlength{\rightskip}{0pt plus 5cm}static void rx\-Complete (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{s\-\_\-byte}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a41ca1f8e23510ed0b2d33cfc2ef9ee0b}


\subsection{Variable Documentation}
\hypertarget{drv__console_8c_a43a032439d24b9892164c4d56f6a8f1b}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!gt\-\_\-console\-Dev@{gt\-\_\-console\-Dev}}
\index{gt\-\_\-console\-Dev@{gt\-\_\-console\-Dev}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{gt\-\_\-console\-Dev}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-console\-Dev} gt\-\_\-console\-Dev\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__console_8c_a43a032439d24b9892164c4d56f6a8f1b}
\hypertarget{drv__console_8c_a78db9d1199b1039e665d37f5a2a6e296}{\index{drv\-\_\-console.\-c@{drv\-\_\-console.\-c}!gt\-\_\-console\-Dev\-Ops@{gt\-\_\-console\-Dev\-Ops}}
\index{gt\-\_\-console\-Dev\-Ops@{gt\-\_\-console\-Dev\-Ops}!drv_console.c@{drv\-\_\-console.\-c}}
\subsubsection[{gt\-\_\-console\-Dev\-Ops}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-device\-Operations} gt\-\_\-console\-Dev\-Ops}}\label{drv__console_8c_a78db9d1199b1039e665d37f5a2a6e296}
{\bfseries Initial value\-:}
\begin{DoxyCode}
=
\{
    \hyperlink{drv__console_8c_aa685825d68d8cb26bf026e4f945c41af}{consoleOpen},
    \hyperlink{drv__console_8c_a9fb5f529dd63b91f0f78d44a690c88fe}{consoleRead},
    \hyperlink{drv__console_8c_a8b7c59a5a54887aaacd4a1167e33cd78}{consoleWrite},
    \hyperlink{drv__console_8c_a819ed3411fc20a6cc3d8cbb263438985}{consoleIoctl},
    \hyperlink{drv__console_8c_a042462fcb5989085bcd981554341cbc4}{consoleClose}

\}
\end{DoxyCode}

\hypertarget{drv__sd_8c}{\section{C\-:/arbitros/trunk/drivers/source/drv\-\_\-sd.c File Reference}
\label{drv__sd_8c}\index{C\-:/arbitros/trunk/drivers/source/drv\-\_\-sd.\-c@{C\-:/arbitros/trunk/drivers/source/drv\-\_\-sd.\-c}}
}
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include \char`\"{}arb\-\_\-device.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}arb\-\_\-semaphore.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}arb\-\_\-thread.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drv\-\_\-sd.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utl\-\_\-spi.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sd\-Interface.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structt__sd_dev}{t\-\_\-sd\-Dev}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{drv__sd_8c_a00280d561faaa19fcb556b9535cceeea}{S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S}~(5)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__sd_8c_aae1f9cc695f3fe85d5399546c7873b88}{sd\-Open} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-dev)
\item 
static int16\-\_\-t \hyperlink{drv__sd_8c_a334a42bc507044fcb742e497c9984f83}{sd\-Read} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-dev, int8\-\_\-t $\ast$pc\-\_\-buff, uint16\-\_\-t s\-\_\-size)
\item 
static int16\-\_\-t \hyperlink{drv__sd_8c_ad1abe14c6281f4543b1828ed5ed34140}{sd\-Write} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-dev, int8\-\_\-t $\ast$pc\-\_\-buff, uint16\-\_\-t s\-\_\-size)
\item 
static int32\-\_\-t \hyperlink{drv__sd_8c_a32f1fbae1b1bae789ec582ab1a2894be}{sd\-Ioctl} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} \hyperlink{structt__dev_handle}{t\-\_\-dev\-Handle}, uint16\-\_\-t s\-\_\-command, int32\-\_\-t i\-\_\-arguments)
\item 
static \hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__sd_8c_ae9b0ef74e67fe66a9ccd8b2d306557e6}{sd\-Close} (\hyperlink{arb__device_8h_aa7158d40d49e62e2afd7f91fa0c0b4d6}{t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E} t\-\_\-dev)
\item 
\hyperlink{arb__error_8h_a623033dbf06d6649e8716824dff23b4a}{t\-\_\-error} \hyperlink{drv__sd_8c_af2cef0f0df1cddd71a256d8434641c08}{drv\-\_\-sd\-Init} (\hyperlink{structt__sd_setup}{t\-\_\-sd\-Setup} t\-\_\-setup)
\item 
void \hyperlink{drv__sd_8c_af8a9b3631bf1b7d3d021b82d2b897eb4}{drv\-\_\-sd\-Exit} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structt__device_operations}{t\-\_\-device\-Operations} \hyperlink{drv__sd_8c_ad9c3e67bc3fb193deb3a97f6c7fe3d8e}{gat\-\_\-sd\-Dev\-Ops}
\item 
static \hyperlink{structt__sd_dev}{t\-\_\-sd\-Dev} \hyperlink{drv__sd_8c_ac5e0353c3d2346bc57d855832b26628e}{gt\-\_\-sd\-Dev}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{drv__sd_8c_a00280d561faaa19fcb556b9535cceeea}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S@{S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S}}
\index{S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S@{S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-D\-\_\-\-M\-A\-X\-\_\-\-R\-D\-W\-R\-\_\-\-R\-E\-T\-R\-I\-E\-S~(5)}}\label{drv__sd_8c_a00280d561faaa19fcb556b9535cceeea}


\subsection{Function Documentation}
\hypertarget{drv__sd_8c_af8a9b3631bf1b7d3d021b82d2b897eb4}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!drv\-\_\-sd\-Exit@{drv\-\_\-sd\-Exit}}
\index{drv\-\_\-sd\-Exit@{drv\-\_\-sd\-Exit}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{drv\-\_\-sd\-Exit}]{\setlength{\rightskip}{0pt plus 5cm}void drv\-\_\-sd\-Exit (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{drv__sd_8c_af8a9b3631bf1b7d3d021b82d2b897eb4}
\hypertarget{drv__sd_8c_af2cef0f0df1cddd71a256d8434641c08}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!drv\-\_\-sd\-Init@{drv\-\_\-sd\-Init}}
\index{drv\-\_\-sd\-Init@{drv\-\_\-sd\-Init}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{drv\-\_\-sd\-Init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-error} drv\-\_\-sd\-Init (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-sd\-Setup}}]{t\-\_\-setup}
\end{DoxyParamCaption}
)}}\label{drv__sd_8c_af2cef0f0df1cddd71a256d8434641c08}
\hypertarget{drv__sd_8c_ae9b0ef74e67fe66a9ccd8b2d306557e6}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!sd\-Close@{sd\-Close}}
\index{sd\-Close@{sd\-Close}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{sd\-Close}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-error} sd\-Close (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-dev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_ae9b0ef74e67fe66a9ccd8b2d306557e6}
\hypertarget{drv__sd_8c_a32f1fbae1b1bae789ec582ab1a2894be}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!sd\-Ioctl@{sd\-Ioctl}}
\index{sd\-Ioctl@{sd\-Ioctl}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{sd\-Ioctl}]{\setlength{\rightskip}{0pt plus 5cm}int32\-\_\-t sd\-Ioctl (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-dev\-Handle, }
\item[{uint16\-\_\-t}]{s\-\_\-command, }
\item[{int32\-\_\-t}]{i\-\_\-arguments}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_a32f1fbae1b1bae789ec582ab1a2894be}
\hypertarget{drv__sd_8c_aae1f9cc695f3fe85d5399546c7873b88}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!sd\-Open@{sd\-Open}}
\index{sd\-Open@{sd\-Open}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{sd\-Open}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-error} sd\-Open (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-dev}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_aae1f9cc695f3fe85d5399546c7873b88}
\hypertarget{drv__sd_8c_a334a42bc507044fcb742e497c9984f83}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!sd\-Read@{sd\-Read}}
\index{sd\-Read@{sd\-Read}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{sd\-Read}]{\setlength{\rightskip}{0pt plus 5cm}static int16\-\_\-t sd\-Read (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-dev, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-buff, }
\item[{uint16\-\_\-t}]{s\-\_\-size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_a334a42bc507044fcb742e497c9984f83}
\hypertarget{drv__sd_8c_ad1abe14c6281f4543b1828ed5ed34140}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!sd\-Write@{sd\-Write}}
\index{sd\-Write@{sd\-Write}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{sd\-Write}]{\setlength{\rightskip}{0pt plus 5cm}static int16\-\_\-t sd\-Write (
\begin{DoxyParamCaption}
\item[{{\bf t\-\_\-\-D\-E\-V\-H\-A\-N\-D\-L\-E}}]{t\-\_\-dev, }
\item[{int8\-\_\-t $\ast$}]{pc\-\_\-buff, }
\item[{uint16\-\_\-t}]{s\-\_\-size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_ad1abe14c6281f4543b1828ed5ed34140}


\subsection{Variable Documentation}
\hypertarget{drv__sd_8c_ad9c3e67bc3fb193deb3a97f6c7fe3d8e}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!gat\-\_\-sd\-Dev\-Ops@{gat\-\_\-sd\-Dev\-Ops}}
\index{gat\-\_\-sd\-Dev\-Ops@{gat\-\_\-sd\-Dev\-Ops}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{gat\-\_\-sd\-Dev\-Ops}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-device\-Operations} gat\-\_\-sd\-Dev\-Ops}}\label{drv__sd_8c_ad9c3e67bc3fb193deb3a97f6c7fe3d8e}
{\bfseries Initial value\-:}
\begin{DoxyCode}
=
\{
    \hyperlink{drv__sd_8c_aae1f9cc695f3fe85d5399546c7873b88}{sdOpen},
    \hyperlink{drv__sd_8c_a334a42bc507044fcb742e497c9984f83}{sdRead},
    \hyperlink{drv__sd_8c_ad1abe14c6281f4543b1828ed5ed34140}{sdWrite},
    \hyperlink{drv__sd_8c_a32f1fbae1b1bae789ec582ab1a2894be}{sdIoctl},
    \hyperlink{drv__sd_8c_ae9b0ef74e67fe66a9ccd8b2d306557e6}{sdClose}
\}
\end{DoxyCode}
\hypertarget{drv__sd_8c_ac5e0353c3d2346bc57d855832b26628e}{\index{drv\-\_\-sd.\-c@{drv\-\_\-sd.\-c}!gt\-\_\-sd\-Dev@{gt\-\_\-sd\-Dev}}
\index{gt\-\_\-sd\-Dev@{gt\-\_\-sd\-Dev}!drv_sd.c@{drv\-\_\-sd.\-c}}
\subsubsection[{gt\-\_\-sd\-Dev}]{\setlength{\rightskip}{0pt plus 5cm}{\bf t\-\_\-sd\-Dev} gt\-\_\-sd\-Dev\hspace{0.3cm}{\ttfamily [static]}}}\label{drv__sd_8c_ac5e0353c3d2346bc57d855832b26628e}
